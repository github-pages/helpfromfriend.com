<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>How to recreate root account in MySQL - Help from a friend</title><meta name="description" content="Today I was trying to log in to mysql database administration on one of my hosting machines and as I was getting 'permission denied for user rott@localhost' I tried to fix the root account and reset its password. But I wasn't successful and later on I realized, that the root account was deleted from the mysql database by one of my friends accidentally. I started to search the internet what to do, but the only thing I have found regarding this issue was question on MySQL forum with exactly the same problem but no answer. So as usual, I tried to solve it by myself and here is it is."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://helpfromfriend.com/how-to-recreate-root-account-in-mysql/"><link rel="alternate" type="application/atom+xml" href="https://helpfromfriend.com/feed.xml"><link rel="alternate" type="application/json" href="https://helpfromfriend.com/feed.json"><meta property="og:title" content="How to recreate root account in MySQL"><meta property="og:site_name" content="Help from a friend"><meta property="og:description" content="Today I was trying to log in to mysql database administration on one of my hosting machines and as I was getting 'permission denied for user rott@localhost' I tried to fix the root account and reset its password. But I wasn't successful and later on I realized, that the root account was deleted from the mysql database by one of my friends accidentally. I started to search the internet what to do, but the only thing I have found regarding this issue was question on MySQL forum with exactly the same problem but no answer. So as usual, I tried to solve it by myself and here is it is."><meta property="og:url" content="https://helpfromfriend.com/how-to-recreate-root-account-in-mysql/"><meta property="og:type" content="article"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style><link rel="stylesheet" href="https://helpfromfriend.com/assets/css/style.css?v=98c505e3b7b685d228871d964463406f"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://helpfromfriend.com/how-to-recreate-root-account-in-mysql/"},"headline":"How to recreate root account in MySQL","datePublished":"2009-03-29T19:45","dateModified":"2021-05-06T18:29","description":"Today I was trying to log in to mysql database administration on one of my hosting machines and as I was getting 'permission denied for user rott@localhost' I tried to fix the root account and reset its password. But I wasn't successful and later on I realized, that the root account was deleted from the mysql database by one of my friends accidentally. I started to search the internet what to do, but the only thing I have found regarding this issue was question on MySQL forum with exactly the same problem but no answer. So as usual, I tried to solve it by myself and here is it is.","author":{"@type":"Person","name":"nztomas"},"publisher":{"@type":"Organization","name":"nztomas"}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-195400000-2"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-195908344-1');</script></head><body><header class="header" id="js-header"><a href="https://helpfromfriend.com/" class="logo">Help from a friend</a></header><main><div class="wrapper"><article class="post"><header class="post__header"><h1 class="post__title">How to recreate root account in MySQL</h1><div class="post__meta"><br><ul class="post__tag"><li><a href="https://helpfromfriend.com/categories/mysql/">MySQL</a></li></ul><div class="post__comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://helpfromfriend.com/assets/svg/svg-map.svg#comments"/></svg> <a href="https://helpfromfriend.com/how-to-recreate-root-account-in-mysql/#comments" data-disqus-identifier="17" class="invert" rel="nofollow">0</a></div></div></header><div class="post__inner"><div class="post__entry"><p>Today I was trying to log in to mysql database administration on one of my hosting machines and as I was getting 'permission denied for user rott@localhost' I tried to fix the root account and reset its password. But I wasn't successful and later on I realized, that the root account was deleted from the mysql database by one of my friends accidentally. I started to search the internet what to do, but the only thing I have found regarding this issue was <a title="MySQL Forum - readd root account to MySQL server" href="http://forums.mysql.com/read.php?30,13701,62421">question on MySQL forum</a> with exactly the same problem but no answer. So as usual, I tried to solve it by myself and here is it is.</p><p>The pre requisition is a shell access on your MySQL machine. Then you have to stop the standard mysql daemon and start the database in <em>safe mode</em>.</p><p>[code language="bash"] /etc/init.d/mysql stop mysqld_safe --skip-grant-tables [/code]</p><p>Then log in as a <em>root</em> and switch to <em>mysql</em> system database.</p><p>[code language="bash"] mysql -u root mysql&gt; use mysql; [/code]</p><p>Try to check that the root user is not present in <em>user</em> table:</p><p>[code language="bash"] mysql&gt; select * from user where User='root'; [/code]</p><p>If the database return empty record, lets manually insert the root user with empty password and then set all the permissions which he normally needs:</p><p>[code language="bash"] mysql&gt; insert into user (Host, User, Password) values ('localhost','root',''); Query OK, 1 rows affected (0.04 sec) mysql&gt; update user set Select_priv='Y',Insert_priv='Y',Update_priv='Y',Delete_priv='Y',Create_priv='Y',Drop_priv='Y',Reload_priv='Y',Shutdown_priv='Y',Process_priv='Y',File_priv='Y',Grant_priv='Y',References_priv='Y',Index_priv='Y',Alter_priv='Y',Show_db_priv='Y',Super_priv='Y',Create_tmp_table_priv='Y',Lock_tables_priv='Y',Execute_priv='Y',Repl_slave_priv='Y',Repl_client_priv='Y',Create_view_priv='Y',Show_view_priv='Y',Create_routine_priv='Y',Alter_routine_priv='Y',Create_user_priv='Y' where user='root'; Query OK, 1 rows affected (0.03 sec) [/code]</p><p>Then quit the database console, kill the mysqld_safe daemon and start the standard mysql daemon again:</p><p>[code language="bash"] mysql&gt; quit killall mysqld_safe /etc/init.d/mysql start [/code]</p><p>Try to log in into mysql console again with an empty password and for double check, try to run 'grant' command to see that the account is fully working:</p><p>[code language="bash"] mysql -u root mysql&gt; grant all privileges on *.* to 'root'@'localhost' with grant option; Query OK, 1 rows affected (0.03 sec)&lt;/pre&gt; [/code]</p><p>And thats it, your basic root acount is working again. Don't forget to change the password or add the hostname to it, but that depends on your needs.</p></div><footer><div class="post__tags-share"></div><nav class="post__nav"><div class="post__nav__prev"><a class="post__nav__link" href="https://helpfromfriend.com/how-to-change-keyboard-on-acer-aspire-one/" rel="prev">Previous Post<h3 class="h6">How to change keyboard on Acer Aspire One</h3></a></div><div class="post__nav__next"><a class="post__nav__link" href="https://helpfromfriend.com/how-to-remove-andquotlike-thisandquot-from-google-reader/" rel="prev">Next Post<h3 class="h6">How to remove &quot;Like this&quot; from Google Reader</h3></a></div></nav></footer></div></article><div class="comments post__inner" id="comments"><h3 class="h5">Comments</h3><div id="disqus_thread"></div><script>var disqus_config = function () {
                    this.page.url = '';
            		this.page.identifier = '';
                };
            
                var disqus_loaded = false;
            
                function publiiLoadDisqus() {
                    if(disqus_loaded) {
                        return false;
                    }
            
                    var top = document.getElementById('disqus_thread').offsetTop;
            
                    if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                        disqus_loaded = true;
            
                        (function () {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://helpfromfriend-com.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    }
                }
            
                publiiLoadDisqus();
            
                window.onscroll = function() {
                    publiiLoadDisqus();
                };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div><div class="post__related"><div class="wrapper"><h2 class="h5">Related posts</h2><div class="l-grid l-grid--4"><article class="c-card"><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://helpfromfriend.com/categories/mysql/">MySQL</a></div><h3 class="c-card__title"><a href="https://helpfromfriend.com/how-to-create-user-in-mysql/" class="invert">How to create user in MySQL</a></h3></header><footer class="c-card__meta"><time datetime="2008-07-14T14:34">July 14, 2008</time><div class="c-card__comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://helpfromfriend.com/assets/svg/svg-map.svg#comments"/></svg> <a href="https://helpfromfriend.com/how-to-create-user-in-mysql/#post-comments" data-disqus-identifier="5" class="invert" rel="nofollow">0</a></div></footer></div></article><article class="c-card"><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://helpfromfriend.com/categories/linux/">Linux</a></div><h3 class="c-card__title"><a href="https://helpfromfriend.com/how-to-reset-root-password/" class="invert">How to reset root password</a></h3></header><footer class="c-card__meta"><time datetime="2008-01-05T22:36">January 5, 2008</time><div class="c-card__comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://helpfromfriend.com/assets/svg/svg-map.svg#comments"/></svg> <a href="https://helpfromfriend.com/how-to-reset-root-password/#post-comments" data-disqus-identifier="4" class="invert" rel="nofollow">0</a></div></footer></div></article></div></div></div></main><footer class="footer"><div class="footer__copyright">2021 @ Helpfronfriend</div></footer><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://helpfromfriend.com/assets/js/scripts.min.js?v=8b3e67b51e8c7a7d51b33f4a94ae4287"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><script id="dsq-count-scr" src="https://helpfromfriend-com.disqus.com/count.js" async></script></body></html>